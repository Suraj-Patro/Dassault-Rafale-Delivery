<html>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176928591-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-176928591-1');
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KFJF5W7');</script>
	<!-- End Google Tag Manager -->
	
    <title>Dassault Rafale Delivery</title>

    <style>
		html,
		body,
		#map-canvas {
			height: 100%;
			margin: 0;
			padding: 0;
		}
	</style>
</head>
<body>
	
  <div id="map-canvas"></div>
  <script src='https://maps.googleapis.com/maps/api/js?v=3.exp&amp;signed_in=true&amp;libraries=geometry'></script>
	<script>
		function initialize() {
			var line;
			var ambala = {lat: 30.3610, lng: 76.7821};
			var france = {lat: 48.8566, lng: 2.3522}
			var CuritibaRoma = [
				new google.maps.LatLng(48.8566, 2.3522),
				new google.maps.LatLng(30.3610, 76.7821)
			];

			var mapOptions = {
				center: CuritibaRoma[0],
				zoom: 2,
				mapTypeId: google.maps.MapTypeId.ROADMAP
			};

			var map = new google.maps.Map(
				document.getElementById('map-canvas'),
				mapOptions
			);
			const contentString =
			"</div>" +
			'<h1 id="firstHeading" class="firstHeading">Ambala</h1>' +
			"</div>";
			const contentString2 =
			"</div>" +
			'<h1 id="firstHeading" class="firstHeading">France</h1>' +
			"</div>";
			const infowindow = new google.maps.InfoWindow({
				content: contentString
			});
			const infowindow1 = new google.maps.InfoWindow({
				content: contentString2
			});
			var marker = new google.maps.Marker({position: ambala, map: map,title: "Ambala"});
			var marker2 = new google.maps.Marker({position: france, map: map,title: "France"});
			marker.addListener("click", () => {
				infowindow.open(map, marker);
			});
			marker2.addListener("click", () => {
				infowindow1.open(map, marker2);
			});
			var lineSymbol = {
				path: 'M 0,-1 0,1',
				strokeOpacity: 1,
				scale: 2
			};

			var scalePlane = 0.0444;

			var planeSymbol = {
				path: 'm30.45799,352.05008l-8.96638,44.82672l54.53683,50.71945l-2.8812,22.87534l-62.42268,-20.64774l-1.75073,11.43457l-1.79976,-11.83707l-62.36403,20.06064l-5.04143,-20.98459l56.0811,-51.85858l-7.79837,-44.93613l0.7507,-100.11948l-19.20056,-9.9201l-165.67706,77.65976l-1.03244,-28.22736l186.66342,-157.55936l0.76558,-94.00015l6.97589,-28.00247l6.68628,-10.54655l6.45442,-3.46302l8.08272,3.19353l5.57077,13.05849l6.44742,26.56583l0,93.07186l185.13046,159.31099l-1.30887,28.2142l-164.90799,-79.27838l-18.91273,8.82553l-0.08223,101.21661',
				scale: scalePlane,
				strokeOpacity: 1,
				strokeColor: 'black',
				fillColor: '#fff',
				fillOpacity: 1,
				strokeWeight: 1
			};

			line = new google.maps.Polyline({
				path: CuritibaRoma,
				strokeOpacity: 0,
				geodesic: true,
				icons: [
					{
						icon: lineSymbol,
						offset: '0',
						repeat: '10px'
					},
					{
						icon: planeSymbol,
						offset: '0'
					}
				],
				map: map
			});

			function animateCircle(anime) {
				var count = 0;
				var comingBack = false;
				var reached = 0;
				window.setInterval(function() {
					if (comingBack) {
						count = (count - 1) % 200;
						planeSymbol.rotation = 180;
						planeSymbol.scale = scalePlane;
						if (count == 20) {
							var countD = setInterval(function() {
								scalePlane = scalePlane.toFixed(4) - 0.0005;
								if (scalePlane <= 0.0001) {
									scalePlane = 0.0444;
									clearInterval(countD);
								}
							}, 5);
						}
					}
					else {
						count = (count + 1) % 200;
						planeSymbol.scale = scalePlane;
						planeSymbol.rotation = 0;
						if (count == 0) {
							if(reached==5){
								alert("5 Dassault Rafale Planes successfully delivered from France to India")
							}
							line.icons[0].offset = '100';
							count = 200;
						}
						else if (count == 180) {
							reached = reached+1;
							var countD = setInterval(function() {
								scalePlane = scalePlane.toFixed(4) - 0.0005;
								if (scalePlane <= 0.0001) {
									scalePlane = 0.0444;
									clearInterval(countD);
								}
							}, 5);
						}
					}
					var icons = line.get('icons');
					icons[1].offset = (count / 2) + '%';
					line.set('icons', icons);
				}, 20);
			}
			animateCircle(line);
		}

		google.maps.event.addDomListener(window, 'load', initialize);
	</script>

	<script>
		$( document ).ready( function() {
			var map1 = $("#map1");


			var locations1 = [
				['Tripoli', 32.843261, 13.222625],
				['Benghazi', 32.093757, 20.087539],
				['Sirte', 31.190257, 16.570380],
				['Sebha', 27.009946, 14.448652]
			];


			if (map1.length){
				loadMap(locations1, "map1");
			}


		});


		function loadMap(loc, elem) {
			var map = new google.maps.Map(document.getElementById(elem), {
				zoom: 6,
				scrollwheel: false,
				center: new google.maps.LatLng(32.811315, 13.125122),
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				disableDefaultUI: true
			});

			var marker, i;

			for (i = 0; i < loc.length; i++) {
				marker = new google.maps.Marker({
					position: new google.maps.LatLng(loc[i][1],loc[i][2]),
					map: map,
					animation: google.maps.Animation.DROP,
					icon: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png'
				});
			}

			//Resize Function
			google.maps.event.addDomListener(window, "resize", function() {
				var center = map.getCenter();
				google.maps.event.trigger(map, "resize");
				map.setCenter(center);
			});
		}
	</script>
</body>
</html>
